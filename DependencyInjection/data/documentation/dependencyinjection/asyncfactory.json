{"metadata":{"remoteSource":{"url":"https:\/\/github.com\/Tyler-Keith-Thompson\/DependencyInjection\/blob\/main\/Sources\/DependencyInjection\/Factory.swift#L202","fileName":"Factory.swift"},"symbolKind":"class","externalID":"s:19DependencyInjection12AsyncFactoryC","navigatorTitle":[{"kind":"identifier","text":"AsyncFactory"}],"modules":[{"name":"DependencyInjection"}],"role":"symbol","title":"AsyncFactory","roleHeading":"Class","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AsyncFactory","kind":"identifier"}]},"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"platforms":["macOS"],"tokens":[{"text":"final","kind":"keyword"},{"text":" ","kind":"text"},{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AsyncFactory","kind":"identifier"},{"text":"<","kind":"text"},{"text":"Dependency","kind":"genericParameter"},{"text":"> ","kind":"text"},{"text":"where","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Dependency","kind":"typeIdentifier"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","preciseIdentifier":"s:s8SendableP","text":"Sendable"}]}]},{"content":[{"level":2,"type":"heading","anchor":"overview","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"AsyncFactory"},{"text":" is used when dependency creation requires ","type":"text"},{"type":"codeVoice","code":"await"},{"text":". The ","type":"text"},{"type":"codeVoice","code":"Dependency"},{"text":" ","type":"text"},{"text":"type must conform to ","type":"text"},{"type":"codeVoice","code":"Sendable"},{"text":". When injected via the ","type":"text"},{"type":"codeVoice","code":"Injected(_:)-4jgny"},{"text":" macro,","type":"text"},{"text":" ","type":"text"},{"text":"the wrapped value type is ","type":"text"},{"type":"codeVoice","code":"Task<Dependency, Never>"},{"text":".","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["extension Container {","    static let session = Factory { await URLSession.shared }","}","","\/\/ Direct resolution","let session = await Container.session()"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"With cached or shared scope, concurrent resolutions are deduplicated – only one"},{"type":"text","text":" "},{"type":"text","text":"async task runs the resolver, and all concurrent callers await the same result."}]}],"kind":"content"}],"schemaVersion":{"patch":0,"minor":3,"major":0},"relationshipsSections":[{"type":"conformsTo","kind":"relationships","title":"Conforms To","identifiers":["doc:\/\/DependencyInjection\/SQ","doc:\/\/DependencyInjection\/SH","doc:\/\/DependencyInjection\/s8SendableP"]}],"abstract":[{"type":"text","text":"A factory that produces dependencies using an asynchronous, non-throwing resolver."}],"topicSections":[{"title":"Instance Properties","generated":true,"identifiers":["doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/scope"],"anchor":"Instance-Properties"},{"title":"Instance Methods","generated":true,"identifiers":["doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/callAsFunction(file:line:function:)","doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/popRegistration()","doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/register(_:)","doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/testValue(_:)","doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/useProduction()"],"anchor":"Instance-Methods"},{"title":"Type Aliases","generated":true,"identifiers":["doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/Resolver"],"anchor":"Type-Aliases"},{"title":"Default Implementations","generated":true,"identifiers":["doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/Equatable-Implementations","doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/Hashable-Implementations"],"anchor":"Default-Implementations"}],"variants":[{"paths":["\/documentation\/dependencyinjection\/asyncfactory"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory","interfaceLanguage":"swift"},"sections":[],"hierarchy":{"paths":[["doc:\/\/DependencyInjection\/documentation\/DependencyInjection"]]},"kind":"symbol","references":{"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/popRegistration()":{"kind":"symbol","title":"popRegistration()","url":"\/documentation\/dependencyinjection\/asyncfactory\/popregistration()","abstract":[{"text":"Removes the most recent resolver override from the current container’s registration stack.","type":"text"}],"type":"topic","role":"symbol","identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/popRegistration()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"popRegistration"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"Self"}]},"doc://DependencyInjection/documentation/DependencyInjection/FactoryDefault":{"role":"symbol","url":"\/documentation\/dependencyinjection\/factorydefault","type":"topic","abstract":[{"type":"text","text":"A single factory-to-resolver binding for use in test defaults."}],"kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"FactoryDefault","kind":"identifier"}],"title":"FactoryDefault","navigatorTitle":[{"text":"FactoryDefault","kind":"identifier"}],"identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/FactoryDefault"},"doc://DependencyInjection/SH":{"type":"unresolvable","title":"Swift.Hashable","identifier":"doc:\/\/DependencyInjection\/SH"},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/useProduction()":{"title":"useProduction()","kind":"symbol","identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/useProduction()","url":"\/documentation\/dependencyinjection\/asyncfactory\/useproduction()","role":"symbol","abstract":[{"type":"text","text":"Marks this factory to bypass test overrides and always use its default production resolver."}],"type":"topic","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"useProduction"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"Self"}]},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/testValue(_:)":{"identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/testValue(_:)","role":"symbol","type":"topic","conformance":{"constraints":[{"code":"Dependency","type":"codeVoice"},{"type":"text","text":" conforms to "},{"code":"Sendable","type":"codeVoice"},{"type":"text","text":"."}],"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"abstract":[{"type":"text","text":"Creates a "},{"type":"reference","identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/FactoryDefault","isActive":true},{"type":"text","text":" that registers the given async resolver when applied to a test container."}],"kind":"symbol","url":"\/documentation\/dependencyinjection\/asyncfactory\/testvalue(_:)","title":"testValue(_:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"testValue","kind":"identifier"},{"text":"(","kind":"text"},{"text":"AsyncFactory","kind":"typeIdentifier","preciseIdentifier":"s:19DependencyInjection12AsyncFactoryC"},{"text":"<","kind":"text"},{"text":"Dependency","kind":"typeIdentifier"},{"text":">.","kind":"text"},{"text":"Resolver","kind":"typeIdentifier","preciseIdentifier":"s:19DependencyInjection12AsyncFactoryC8Resolvera"},{"text":") -> ","kind":"text"},{"text":"FactoryDefault","kind":"typeIdentifier","preciseIdentifier":"s:19DependencyInjection14FactoryDefaultV"}]},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory":{"kind":"symbol","navigatorTitle":[{"text":"AsyncFactory","kind":"identifier"}],"abstract":[{"type":"text","text":"A factory that produces dependencies using an asynchronous, non-throwing resolver."}],"url":"\/documentation\/dependencyinjection\/asyncfactory","title":"AsyncFactory","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"AsyncFactory","kind":"identifier"}],"identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory","type":"topic"},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/Hashable-Implementations":{"title":"Hashable Implementations","kind":"article","identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/Hashable-Implementations","url":"\/documentation\/dependencyinjection\/asyncfactory\/hashable-implementations","role":"collectionGroup","abstract":[],"type":"topic"},"doc://DependencyInjection/s8SendableP":{"type":"unresolvable","title":"Swift.Sendable","identifier":"doc:\/\/DependencyInjection\/s8SendableP"},"doc://DependencyInjection/SQ":{"type":"unresolvable","title":"Swift.Equatable","identifier":"doc:\/\/DependencyInjection\/SQ"},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/scope":{"url":"\/documentation\/dependencyinjection\/asyncfactory\/scope","abstract":[{"type":"text","text":"The scope that controls instance lifetime for this factory."}],"identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/scope","title":"scope","role":"symbol","kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"scope"},{"kind":"text","text":": "},{"preciseIdentifier":"s:19DependencyInjection5ScopeC","kind":"typeIdentifier","text":"Scope"}]},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/register(_:)":{"abstract":[{"type":"text","text":"Pushes a new resolver onto the current container’s registration stack."}],"identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/register(_:)","type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"register"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"s:19DependencyInjection12AsyncFactoryC","text":"AsyncFactory"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Dependency"},{"kind":"text","text":">."},{"kind":"typeIdentifier","preciseIdentifier":"s:19DependencyInjection12AsyncFactoryC8Resolvera","text":"Resolver"},{"kind":"text","text":")"}],"title":"register(_:)","role":"symbol","url":"\/documentation\/dependencyinjection\/asyncfactory\/register(_:)"},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/callAsFunction(file:line:function:)":{"type":"topic","url":"\/documentation\/dependencyinjection\/asyncfactory\/callasfunction(file:line:function:)","role":"symbol","identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/callAsFunction(file:line:function:)","kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"callAsFunction"},{"kind":"text","text":"("},{"kind":"externalParam","text":"file"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":", "},{"kind":"externalParam","text":"line"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Su","text":"UInt"},{"kind":"text","text":", "},{"kind":"externalParam","text":"function"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Dependency"}],"title":"callAsFunction(file:line:function:)","abstract":[{"text":"Resolves and returns the dependency asynchronously.","type":"text"}]},"doc://DependencyInjection/documentation/DependencyInjection":{"role":"collection","identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection","abstract":[],"url":"\/documentation\/dependencyinjection","kind":"symbol","type":"topic","title":"DependencyInjection"},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/Resolver":{"identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/Resolver","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"Resolver"}],"type":"topic","url":"\/documentation\/dependencyinjection\/asyncfactory\/resolver","abstract":[{"text":"The closure signature used to create the dependency.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"Resolver"}],"title":"AsyncFactory.Resolver"},"doc://DependencyInjection/documentation/DependencyInjection/AsyncFactory/Equatable-Implementations":{"title":"Equatable Implementations","kind":"article","identifier":"doc:\/\/DependencyInjection\/documentation\/DependencyInjection\/AsyncFactory\/Equatable-Implementations","url":"\/documentation\/dependencyinjection\/asyncfactory\/equatable-implementations","role":"collectionGroup","abstract":[],"type":"topic"}}}